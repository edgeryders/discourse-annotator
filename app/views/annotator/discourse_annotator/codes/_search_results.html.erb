<table>
  <thead>
  <tr>
    <th></th>
    <th scope="col">Id</th>
    <th scope="col">Name</th>
    <th scope="col">Creator</th>
    <th scope="col">Annotations</th>
    <th scope="col"></th>
    <th scope="col"></th>
    <th scope="col"></th>
    <th scope="col"></th>
    <th scope="col"></th>
  </tr>
  </thead>

  <tbody>
  <% resources.each do |code| %>
    <tr id="code-row-<%= code.id %>">
      <td>
        <input type="checkbox" id="code-<%= code.id %>" data-id="<%= code.id %>"/>
      </td>
      <td><%= code.id %></td>
      <td><%= link_to(code.name_with_path, [namespace, code], class: "link-primary") %></td>
      <td><%= "by #{code.creator.username}" %></td>
      <td><%= code.annotations_count %></td>
      <td>
        <%= link_to('Edit', [:edit, namespace, code], class: "link-primary",) %>
      </td>
      <td>
        <%= link_to('Merge', merge_annotator_discourse_annotator_code_path(code.id), class: "link-primary") %>
      </td>
      <td>
        <%= link_to('Copy', copy_annotator_discourse_annotator_code_path(code.id), method: :put, class: "link-primary") %>
      </td>
      <td>
        <% if code.is_childless? %>
          <%= render 'action_delete', namespace: namespace, code: code %>
        <% end %>
      </td>
      <td>
        <%= link_to('Annotations', annotator_discourse_annotator_annotations_path(code_id: code.id), class: "link-primary",) %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>